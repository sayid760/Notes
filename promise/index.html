<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>Document</title>
</head>
<body>
    <script src="./promise-class.js"></script>
    <script>
        var p = new Promise((resolve, reject)=>{
            resolve(1) // value
            // reject(2) // reason
            // resolve(3) // value // 状态只能改变一次
        })
        p.then(value=>{
            console.log(value)
        }).then(value=>{
            console.log(value)
        })
            
        // const p1=Promise.resolve(2) // 如果是一般值，p1成功，value就是这个值
        // const p2=Promise.resolve(Promise.resolve(3)) // 如果是成功的promise，p2成功，value是这个promise的value
        // const p3=Promise.resolve(Promise.reject(4)) // 如果是失败的promise，p3失败，reason是这个promise的reason
        
        // p1.then(value=>{console.log('p1',value)})
        // p2.then(value=>{console.log('p2',value)})
        // p3.catch(value=>{console.log('p3',value)})
/*            
// 测试数组顺序
const p1=Promise.resolve(2)
const p2=Promise.resolve(Promise.resolve(3))
const p3=Promise.resolve(Promise.reject(4)) 
const p4=new Promise((resolve)=>{ 
    setTimeout(()=>{
        resolve(5)
    },1000)
}) 

const p5=new Promise((resolve, reject)=>{ 
    reject(6)
}) 

const pAll = Promise.all([p4,7, p1, p2])  // [5, 7, 2, 3]
        const pRace = Promise.race([p4, p5, p1])
        pAll.then(
            values => {
                console.log('all onReasolved()', values)
            },
            reason => {
                console.log('all onRejected()', reason)
            }
        )

        pRace.then(
            value => {
                console.log('race onReasolved()', value)
            },
            reason => {
                console.log('race onRejected()', reason)
            }
        )

const p6=Promise.resolveDelay(66,2000)
const p7=Promise.rejectDelay(77,3000)
p6.then(value=>{console.log('p6',value)})
p7.catch(reason=>{console.log('p7',reason)})
*/


    </script>
</body>
</html>